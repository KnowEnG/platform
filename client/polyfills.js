/** 
  An assortment of different polyfills, along with their sources, needed for running the KnowEnG dashboard in older browsers
*/ 

// Polyfill of "MutationObserver" for IE9 and IE10
// Author(s): Graeme Yeates
// Source: https://raw.githubusercontent.com/megawac/MutationObserver.js/master/dist/mutationobserver.min.js
// LICENSE: WTFPL V2, 2004 (https://github.com/megawac/MutationObserver.js/blob/master/license)
window.MutationObserver=window.MutationObserver||function(t){function e(t){this.i=[],this.m=t}function n(t){!function n(){var r=t.takeRecords();r.length&&t.m(r,t),t.h=setTimeout(n,e._period)}()}function r(e){var n,r={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null};for(n in e)r[n]!==t&&e[n]!==t&&(r[n]=e[n]);return r}function a(t,e){var n=c(t,e);return function(a){var i,u=a.length;e.a&&3===t.nodeType&&t.nodeValue!==n.a&&a.push(new r({type:"characterData",target:t,oldValue:n.a})),e.b&&n.b&&o(a,t,n.b,e.f),(e.c||e.g)&&(i=l(a,t,n,e)),(i||a.length!==u)&&(n=c(t,e))}}function i(t,e){return e.value}function u(t,e){return"style"!==e.name?e.value:t.style.cssText}function o(e,n,a,i){for(var u,o,l={},c=n.attributes,s=c.length;s--;)u=c[s],o=u.name,i&&i[o]===t||(f(n,u)!==a[o]&&e.push(r({type:"attributes",target:n,attributeName:o,oldValue:a[o],attributeNamespace:u.namespaceURI})),l[o]=!0);for(o in a)l[o]||e.push(r({target:n,type:"attributes",attributeName:o,oldValue:a[o]}))}function l(e,n,a,i){function u(t,n,a,u,c){var s=t.length-1;c=-~((s-c)/2);for(var d,h,b;b=t.pop();)d=a[b.j],h=u[b.l],i.c&&c&&Math.abs(b.j-b.l)>=s&&(e.push(r({type:"childList",target:n,addedNodes:[d],removedNodes:[d],nextSibling:d.nextSibling,previousSibling:d.previousSibling})),c--),i.b&&h.b&&o(e,d,h.b,i.f),i.a&&3===d.nodeType&&d.nodeValue!==h.a&&e.push(r({type:"characterData",target:d,oldValue:h.a})),i.g&&l(d,h)}function l(n,a){for(var d,h,p,f,g,v=n.childNodes,m=a.c,y=v.length,N=m?m.length:0,V=0,S=0,T=0;S<y||T<N;)f=v[S],g=(p=m[T])&&p.node,f===g?(i.b&&p.b&&o(e,f,p.b,i.f),i.a&&p.a!==t&&f.nodeValue!==p.a&&e.push(r({type:"characterData",target:f,oldValue:p.a})),h&&u(h,n,v,m,V),i.g&&(f.childNodes.length||p.c&&p.c.length)&&l(f,p),S++,T++):(c=!0,d||(d={},h=[]),f&&(d[p=s(f)]||(d[p]=!0,-1===(p=b(m,f,T,"node"))?i.c&&(e.push(r({type:"childList",target:n,addedNodes:[f],nextSibling:f.nextSibling,previousSibling:f.previousSibling})),V++):h.push({j:S,l:p})),S++),g&&g!==v[S]&&(d[p=s(g)]||(d[p]=!0,-1===(p=b(v,g,S))?i.c&&(e.push(r({type:"childList",target:a.node,removedNodes:[g],nextSibling:m[T+1],previousSibling:m[T-1]})),V--):h.push({j:p,l:T})),T++));h&&u(h,n,v,m,V)}var c;return l(n,a),c}function c(t,e){var n=!0;return function t(r){var a={node:r};return!e.a||3!==r.nodeType&&8!==r.nodeType?(e.b&&n&&1===r.nodeType&&(a.b=h(r.attributes,function(t,n){return e.f&&!e.f[n.name]||(t[n.name]=f(r,n)),t})),n&&(e.c||e.a||e.b&&e.g)&&(a.c=d(r.childNodes,t)),n=e.g):a.a=r.nodeValue,a}(t)}function s(t){try{return t.id||(t.mo_id=t.mo_id||g++)}catch(e){try{return t.nodeValue}catch(t){return g++}}}function d(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=e(t[r],r,t);return n}function h(t,e){for(var n={},r=0;r<t.length;r++)n=e(n,t[r],r,t);return n}function b(t,e,n,r){for(;n<t.length;n++)if((r?t[n][r]:t[n])===e)return n;return-1}e._period=30,e.prototype={observe:function(t,e){for(var r={b:!!(e.attributes||e.attributeFilter||e.attributeOldValue),c:!!e.childList,g:!!e.subtree,a:!(!e.characterData&&!e.characterDataOldValue)},i=this.i,u=0;u<i.length;u++)i[u].s===t&&i.splice(u,1);e.attributeFilter&&(r.f=h(e.attributeFilter,function(t,e){return t[e]=!0,t})),i.push({s:t,o:a(t,r)}),this.h||n(this)},takeRecords:function(){for(var t=[],e=this.i,n=0;n<e.length;n++)e[n].o(t);return t},disconnect:function(){this.i=[],clearTimeout(this.h),this.h=null}};var p=document.createElement("i");p.style.top=0;var f=(p="null"!=p.attributes.style.value)?i:u,g=1;return e}(void 0);

// Polyfill of "Array.from" for IE9 / IE10 / IE11
// Author(s): Mozilla Contributors
// Source: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from#Polyfill
// LICENSE: Public Domain (https://developer.mozilla.org/en-US/docs/MDN/About#Copyrights_and_licenses)
// Any copyright is dedicated to the Public Domain. http://creativecommons.org/publicdomain/zero/1.0/
Array.from||(Array.from=function(){var r=Object.prototype.toString,n=function(n){return"function"==typeof n||"[object Function]"===r.call(n)},t=function(r){var n=Number(r);return isNaN(n)?0:0!==n&&isFinite(n)?(n>0?1:-1)*Math.floor(Math.abs(n)):n},e=Math.pow(2,53)-1,o=function(r){var n=t(r);return Math.min(Math.max(n,0),e)};return function(r){var t=this,e=Object(r);if(null==r)throw new TypeError("Array.from requires an array-like object - not null or undefined");var a,i=arguments.length>1?arguments[1]:void 0;if(void 0!==i){if(!n(i))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(a=arguments[2])}for(var u,f=o(e.length),c=n(t)?Object(new t(f)):new Array(f),h=0;h<f;)u=e[h],c[h]=i?void 0===a?i(u,h):i.call(a,u,h):u,h+=1;return c.length=f,c}}());

// Polyfill of "Map" for IE9 and IE10
// Author(s): Andrea Giammarchi, @WebReflection
// Source: https://raw.githubusercontent.com/WebReflection/es6-collections/master/es6-collections.js
// LICENSE: MIT (https://github.com/WebReflection/es6-collections/blob/master/LICENSE.txt)
!function(e){function t(e,t){function i(e){if(!this||this.constructor!==i)return new i(e);this._keys=[],this._values=[],this._itp=[],this.objectOnly=t,e&&n.call(this,e)}return t||g(e,"size",{get:_}),e.constructor=i,i.prototype=e,i}function n(e){this.add?e.forEach(this.add,this):e.forEach(function(e){this.set(e[0],e[1])},this)}function i(e){return this.has(e)&&(this._keys.splice(k,1),this._values.splice(k,1),this._itp.forEach(function(e){k<e[0]&&e[0]--})),-1<k}function s(e){return this.has(e)?this._values[k]:void 0}function u(e,t){if(this.objectOnly&&t!==Object(t))throw new TypeError("Invalid value used as weak collection key");if(t!=t||0===t)for(k=e.length;k--&&!w(e[k],t););else k=e.indexOf(t);return-1<k}function a(e){return u.call(this,this._values,e)}function h(e){return u.call(this,this._keys,e)}function r(e,t){return this.has(e)?this._values[k]=t:this._values[this._keys.push(e)-1]=t,this}function o(e){return this.has(e)||this._values.push(e),this}function l(){(this._keys||0).length=this._values.length=0}function f(){return v(this._itp,this._keys)}function c(){return v(this._itp,this._values)}function d(){return v(this._itp,this._keys,this._values)}function p(){return v(this._itp,this._values,this._values)}function v(e,t,n){var i=[0],s=!1;return e.push(i),{next:function(){var u,a=i[0];return!s&&a<t.length?(u=n?[t[a],n[a]]:t[a],i[0]++):(s=!0,e.splice(e.indexOf(i),1)),{done:s,value:u}}}}function _(){return this._values.length}function y(e,t){for(var n=this.entries();;){var i=n.next();if(i.done)break;e.call(t,i.value[1],i.value[0],this)}}var k,g=Object.defineProperty,w=function(e,t){return isNaN(e)?isNaN(t):e===t};"undefined"==typeof WeakMap&&(e.WeakMap=t({delete:i,clear:l,get:s,has:h,set:r},!0)),"undefined"!=typeof Map&&"function"==typeof(new Map).values&&(new Map).values().next||(e.Map=t({delete:i,has:h,get:s,set:r,keys:f,values:c,entries:d,forEach:y,clear:l})),"undefined"!=typeof Set&&"function"==typeof(new Set).values&&(new Set).values().next||(e.Set=t({has:a,add:o,delete:i,clear:l,keys:c,values:c,entries:p,forEach:y})),"undefined"==typeof WeakSet&&(e.WeakSet=t({delete:i,add:o,clear:l,has:a},!0))}("undefined"!=typeof exports&&"undefined"!=typeof global?global:window);

// Polyfill for en-US locale data (needed by Intl for IE9 / IE10)
// Author(s): Andy Earnshaw
// Source: https://raw.githubusercontent.com/andyearnshaw/Intl.js/master/locale-data/jsonp/en-US.js
// LICENSE: MIT (https://github.com/andyearnshaw/Intl.js/blob/master/LICENSE.txt)
IntlPolyfill.__addLocaleData({locale:"en-US",date:{ca:["gregory","generic"],hourNo0:true,hour12:true,formats:{short:"{1}, {0}",medium:"{1}, {0}",full:"{1} 'at' {0}",long:"{1} 'at' {0}",availableFormats:{"d":"d","E":"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G","h":"h a","H":"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v","M":"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss","y":"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y"},dateFormats:{yMMMMEEEEd:"EEEE, MMMM d, y",yMMMMd:"MMMM d, y",yMMMd:"MMM d, y",yMd:"M/d/yy"},timeFormats:{hmmsszzzz:"h:mm:ss a zzzz",hmsz:"h:mm:ss a z",hms:"h:mm:ss a",hm:"h:mm a"}},calendars:{generic:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],long:["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["ERA0","ERA1"],short:["ERA0","ERA1"],long:["ERA0","ERA1"]},dayPeriods:{am:"AM",pm:"PM"}},gregory:{months:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["B","A","BCE","CE"],short:["BC","AD","BCE","CE"],long:["Before Christ","Anno Domini","Before Common Era","Common Era"]},dayPeriods:{am:"AM",pm:"PM"}}}},number:{nu:["latn"],patterns:{decimal:{positivePattern:"{number}",negativePattern:"{minusSign}{number}"},currency:{positivePattern:"{currency}{number}",negativePattern:"{minusSign}{currency}{number}"},percent:{positivePattern:"{number}{percentSign}",negativePattern:"{minusSign}{number}{percentSign}"}},symbols:{latn:{decimal:".",group:",",nan:"NaN",plusSign:"+",minusSign:"-",percentSign:"%",infinity:"∞"}},currencies:{AUD:"A$",BRL:"R$",CAD:"CA$",CNY:"CN¥",EUR:"€",GBP:"£",HKD:"HK$",ILS:"₪",INR:"₹",JPY:"¥",KRW:"₩",MXN:"MX$",NZD:"NZ$",TWD:"NT$",USD:"$",VND:"₫",XAF:"FCFA",XCD:"EC$",XOF:"CFA",XPF:"CFPF"}}});
